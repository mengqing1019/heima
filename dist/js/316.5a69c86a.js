"use strict";(self["webpackChunkshopping"]=self["webpackChunkshopping"]||[]).push([[316],{935:function(t,s,e){e.r(s),e.d(s,{default:function(){return d}});e(4114);var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"cart"},[s("van-nav-bar",{attrs:{title:"购物车",fixed:""}}),this.$store.getters.token?t._e():s("van-empty",[s("van-button",{staticClass:"bottom-button",attrs:{round:"",type:"danger"},on:{click:function(s){return t.$router.push("/home")}}},[t._v("去逛逛")])],1),this.$store.getters.token?s("div",{staticClass:"cart-title"},[s("span",{staticClass:"all"},[t._v("共"),s("i",[t._v(t._s(t.cartNum))]),t._v("件商品")]),s("span",{staticClass:"edit",on:{click:function(s){t.compileflag=!t.compileflag}}},[s("van-icon",{attrs:{name:"edit"}}),t._v(" 编辑 ")],1)]):t._e(),s("div",{staticClass:"cart-list"},t._l(t.cartList,(function(e){return s("div",{key:e.goods_id,staticClass:"cart-item"},[s("van-checkbox",{attrs:{name:e.goods_id},model:{value:e.isChecked,callback:function(s){t.$set(e,"isChecked",s)},expression:"item.isChecked"}}),s("div",{staticClass:"show"},[s("img",{attrs:{src:e.goods.goods_image,alt:""}})]),s("div",{staticClass:"info"},[s("span",{staticClass:"tit text-ellipsis-2"},[t._v(t._s(e.goods.goods_name))]),s("span",{staticClass:"bottom"},[s("div",{staticClass:"price"},[t._v(" ¥ "),s("span",[t._v(t._s(e.goods.goods_price_max))])]),s("CountBox",{attrs:{value:e.goods_num},on:{input:s=>t.changeCount(s,e.goods_id,e.goods_sku_id)}})],1)])],1)})),0),this.$store.getters.token?s("van-submit-bar",{attrs:{price:100*t.totalPrice,"button-text":t.selNum,disabled:0===t.selCount},on:{submit:function(s){t.compileflag?t.delCart():t.toPay()}}},[this.$store.getters.token?s("van-checkbox",{attrs:{name:"全选"},on:{change:t.selectAll},model:{value:t.qxFlag,callback:function(s){t.qxFlag=s},expression:"qxFlag"}}):t._e()],1):t._e()],1)},o=[],i=e(3518),n=e(4589),c={name:"CartPage",components:{CountBox:n.A},data(){return{qxFlag:!1,flag:!1,compileflag:!1}},computed:{...(0,i.L8)("cart",["cartNum","selCount","totalPrice","isCheckedNum"]),...(0,i.aH)("cart",["cartList"]),selNum(){return this.compileflag?this.selCount>0?`删除（${this.selCount}）`:"删除":this.selCount>0?`结算（${this.selCount}）`:"结算"}},methods:{selectAll(){this.cartList.forEach((t=>{t.isChecked=this.qxFlag}))},changeCount(t,s,e){const a={value:t,goodsId:s,skuId:e};this.$store.dispatch("cart/changeCountAction",{obj:a})},delCart(){this.$store.dispatch("cart/delCartList")},toPay(){localStorage.setItem("isPay",JSON.stringify(this.isCheckedNum)),this.$router.push("/pay")}}},l=c,r=e(1656),u=(0,r.A)(l,a,o,!1,null,"9b056e94",null),d=u.exports}}]);
//# sourceMappingURL=316.5a69c86a.js.map