{"version":3,"file":"js/316.5a69c86a.js","mappings":"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","sources":["webpack://shopping/./src/views/layout/cart.vue","webpack://shopping/src/views/layout/cart.vue","webpack://shopping/./src/views/layout/cart.vue?1ca3","webpack://shopping/./src/views/layout/cart.vue?90ee"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"cart\"},[_c('van-nav-bar',{attrs:{\"title\":\"购物车\",\"fixed\":\"\"}}),(!this.$store.getters.token)?_c('van-empty',[_c('van-button',{staticClass:\"bottom-button\",attrs:{\"round\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.$router.push('/home')}}},[_vm._v(\"去逛逛\")])],1):_vm._e(),(this.$store.getters.token)?_c('div',{staticClass:\"cart-title\"},[_c('span',{staticClass:\"all\"},[_vm._v(\"共\"),_c('i',[_vm._v(_vm._s(_vm.cartNum))]),_vm._v(\"件商品\")]),_c('span',{staticClass:\"edit\",on:{\"click\":function($event){_vm.compileflag=!_vm.compileflag}}},[_c('van-icon',{attrs:{\"name\":\"edit\"}}),_vm._v(\" 编辑 \")],1)]):_vm._e(),_c('div',{staticClass:\"cart-list\"},_vm._l((_vm.cartList),function(item){return _c('div',{key:item.goods_id,staticClass:\"cart-item\"},[_c('van-checkbox',{attrs:{\"name\":item.goods_id},model:{value:(item.isChecked),callback:function ($$v) {_vm.$set(item, \"isChecked\", $$v)},expression:\"item.isChecked\"}}),_c('div',{staticClass:\"show\"},[_c('img',{attrs:{\"src\":item.goods.goods_image,\"alt\":\"\"}})]),_c('div',{staticClass:\"info\"},[_c('span',{staticClass:\"tit text-ellipsis-2\"},[_vm._v(_vm._s(item.goods.goods_name))]),_c('span',{staticClass:\"bottom\"},[_c('div',{staticClass:\"price\"},[_vm._v(\" ¥ \"),_c('span',[_vm._v(_vm._s(item.goods.goods_price_max))])]),_c('CountBox',{attrs:{\"value\":item.goods_num},on:{\"input\":value => _vm.changeCount( value, item.goods_id, item.goods_sku_id)}})],1)])],1)}),0),(this.$store.getters.token)?_c('van-submit-bar',{attrs:{\"price\":_vm.totalPrice*100,\"button-text\":_vm.selNum,\"disabled\":_vm.selCount === 0},on:{\"submit\":function($event){_vm.compileflag?_vm.delCart():_vm.toPay()}}},[(this.$store.getters.token)?_c('van-checkbox',{attrs:{\"name\":\"全选\"},on:{\"change\":_vm.selectAll},model:{value:(_vm.qxFlag),callback:function ($$v) {_vm.qxFlag=$$v},expression:\"qxFlag\"}}):_vm._e()],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"cart\">\r\n    <van-nav-bar title=\"购物车\" fixed />\r\n    <van-empty v-if=\"!this.$store.getters.token\">\r\n      <van-button\r\n        round\r\n        type=\"danger\"\r\n        class=\"bottom-button\"\r\n        @click=\"$router.push('/home')\"\r\n        >去逛逛</van-button\r\n      >\r\n    </van-empty>\r\n    <!-- 购物车开头 -->\r\n    <div class=\"cart-title\" v-if=\"this.$store.getters.token\">\r\n      <span class=\"all\"\r\n        >共<i>{{  cartNum}}</i\r\n        >件商品</span\r\n      >\r\n      <span class=\"edit\" @click=\"compileflag=!compileflag\">\r\n        <van-icon name=\"edit\" />\r\n        编辑\r\n      </span>\r\n    </div>\r\n    <!-- 购物车列表 -->\r\n      <div class=\"cart-list\">\r\n        <div class=\"cart-item\" v-for=\"item in cartList\" :key=\"item.goods_id\">\r\n          <van-checkbox v-model=\"item.isChecked\" :name=\"item.goods_id\"></van-checkbox>\r\n          <div class=\"show\">\r\n            <img :src=\"item.goods.goods_image\" alt=\"\" />\r\n          </div>\r\n          <div class=\"info\">\r\n            <span class=\"tit text-ellipsis-2\">{{ item.goods.goods_name }}</span>\r\n            <span class=\"bottom\">\r\n              <div class=\"price\">\r\n                ¥ <span>{{ item.goods.goods_price_max }}</span>\r\n              </div>\r\n              <CountBox :value=\"item.goods_num\" @input=\"value => changeCount( value, item.goods_id, item.goods_sku_id)\"></CountBox>\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    <van-submit-bar\r\n      :price=\"totalPrice*100\"\r\n      :button-text=\"selNum\"\r\n      :disabled=\"selCount === 0\"\r\n      v-if=\"this.$store.getters.token\"\r\n      @submit=\"compileflag?delCart():toPay()\"\r\n    >\r\n    <!-- compileflag?delCart:toPay -->\r\n      <van-checkbox v-if=\"this.$store.getters.token\" name=\"全选\" v-model=\"qxFlag\" @change=\"selectAll\"></van-checkbox>\r\n    </van-submit-bar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from 'vuex'\r\n\r\nimport CountBox from '@/components/CountBox'\r\nexport default {\r\n  name: 'CartPage',\r\n  components: {\r\n    CountBox\r\n  },\r\n  data () {\r\n    return {\r\n      qxFlag: false,\r\n      flag: false,\r\n      compileflag: false\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters('cart', ['cartNum', 'selCount', 'totalPrice', 'isCheckedNum']),\r\n    ...mapState('cart', ['cartList']),\r\n    selNum () {\r\n      return this.compileflag ? (this.selCount > 0 ? `删除（${this.selCount}）` : '删除') : (this.selCount > 0 ? `结算（${this.selCount}）` : '结算')\r\n    }\r\n  },\r\n  methods: {\r\n    selectAll () {\r\n      this.cartList.forEach(item => {\r\n        item.isChecked = this.qxFlag\r\n      })\r\n    },\r\n    changeCount (value, goodsId, skuId) {\r\n      const obj = { value, goodsId, skuId }\r\n      this.$store.dispatch('cart/changeCountAction', {\r\n        obj\r\n      })\r\n    },\r\n    delCart () {\r\n      this.$store.dispatch('cart/delCartList')\r\n    },\r\n    toPay () {\r\n      localStorage.setItem('isPay', JSON.stringify(this.isCheckedNum))\r\n      this.$router.push('/pay')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 主题 padding\r\n.cart {\r\n  padding-top: 46px;\r\n  padding-bottom: 100px;\r\n  background-color: #f5f5f5;\r\n  min-height: 100vh;\r\n  .cart-title {\r\n    height: 40px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    padding: 0 10px;\r\n    font-size: 14px;\r\n    .all {\r\n      i {\r\n        font-style: normal;\r\n        margin: 0 2px;\r\n        color: #fa2209;\r\n        font-size: 16px;\r\n      }\r\n    }\r\n    .edit {\r\n      .van-icon {\r\n        font-size: 18px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .cart-item {\r\n    margin: 0 10px 10px 10px;\r\n    padding: 10px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    background-color: #ffffff;\r\n    border-radius: 5px;\r\n\r\n    .show img {\r\n      width: 100px;\r\n      height: 100px;\r\n    }\r\n    .info {\r\n      width: 210px;\r\n      padding: 10px 5px;\r\n      font-size: 14px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      .bottom {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        .price {\r\n          display: flex;\r\n          align-items: flex-end;\r\n          color: #fa2209;\r\n          font-size: 12px;\r\n          span {\r\n            font-size: 16px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.van-submit-bar {\r\n  bottom: 50px;\r\n}\r\n.bottom-button {\r\n  width: 160px;\r\n  height: 40px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./cart.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=9b056e94&scoped=true\"\nimport script from \"./cart.vue?vue&type=script&lang=js\"\nexport * from \"./cart.vue?vue&type=script&lang=js\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&id=9b056e94&prod&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9b056e94\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","$store","getters","token","_e","on","$event","$router","push","_v","_s","cartNum","compileflag","_l","cartList","item","key","goods_id","model","value","isChecked","callback","$$v","$set","expression","goods","goods_image","goods_name","goods_price_max","goods_num","changeCount","goods_sku_id","totalPrice","selNum","selCount","delCart","toPay","selectAll","qxFlag","staticRenderFns","name","components","CountBox","data","flag","computed","mapGetters","mapState","methods","forEach","goodsId","skuId","obj","dispatch","localStorage","setItem","JSON","stringify","isCheckedNum","component"],"sourceRoot":""}